<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.20-DEV" />

  <meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://blog912.cn/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://blog912.cn/css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png">

  
  <link href="http://blog912.cn/index.xml" rel="alternate" type="application/rss+xml" title="" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  

  
</head>

<body>
    <div id="layout" class="pure-g">
        <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	

    
    

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://blog912.cn">Home</a></li>
        
      </ul>
    </nav>

    

  </div>
</div>


        <div class="content pure-u-1 pure-u-md-3-4">
            <a name="top"></a>
            

          <div class="posts">
            
            
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/golang%E5%9C%A8windows%E4%B8%8B%E8%AF%BB%E5%8F%96clipboard%E6%88%AA%E5%B1%8F%E5%9B%BE%E7%89%87%E4%BF%A1%E6%81%AF/">golang在windows下读取clipboard截取图片信息</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>29</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
                
                
            </p>
            
              <article class="post-summary">
                  golang二进制处理 使用&rsquo;encoding/binary&rsquo;包，和bytes.Buffer配置。
import &quot;encoding/binary&quot; data := new(bytes.Buffer) binary.Write(data, binary.LittleEndian, uint16('B')|(uint16('M')&lt;&lt;8))  golang从windows下的clipboard中抓取图片 windows下的clipboard保存的图片信息是dib结构，保存有bmpinfoheader信息头和pixel图片信息。
其中bmpinfoheader信息格式如下:
type infoHeader struct { iSize uint32 // infoheader 长度，40 iWidth uint32 // 图片宽度 iHeight uint32 // 图片高度 iPLanes uint16 iBitCount uint16 // 每个像素颜色占用空间 iCompression uint32 // 图片压缩格式，dib中一般为0或者为3 iSizeImage uint32 // 图片pixel占用大小 iXPelsPerMeter uint32 iYPelsPerMeter uint32 iClrUsed uint32 iClrImportant uint32 }  需要根据bmpinfoheader计算出bmp图片的fileheader，并放在bmp图片的头部。fileheader格式如下:
type fileHeader struct { bfType uint16 // 恒定为'BM' bfSize uint32 // bmp整个文件大小 bfReserved1 uint16 bfReserved2 uint16 bfOffBits uint32 // pixel信息开始的偏移量 }  读取clipboard中图片信息，需要用到win32的api，如下:
              </article>
              <div class="read-more-link">
                  <a href="/golang%E5%9C%A8windows%E4%B8%8B%E8%AF%BB%E5%8F%96clipboard%E6%88%AA%E5%B1%8F%E5%9B%BE%E7%89%87%E4%BF%A1%E6%81%AF/"><span class="read-more-slashes">//</span>Read More...</a>
              </div>
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/hugo/hugo_setup/">hugo setup</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>11</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
                
                
            </p>
            
              

<h3 id="hugo-initial">hugo initial</h3>

<pre><code class="language-bash">hugo new site mysite
</code></pre>

<h3 id="hugo-new-post">hugo new post</h3>

<pre><code class="language-bash">cd /path/to/mysite
hugo new post/hugo_setup.md
</code></pre>

<h3 id="hugo-publish">hugo publish</h3>

<pre><code class="language-bash">hugo 
# it would produce static pages in public directory
</code></pre>

            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/python/fabric-set-ssh-passwdless/">使用fabric工具配置ssh免密码登录</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
                
                
            </p>
            
              <article class="post-summary">
                  must setup the localhost keygen generate keys for localhost
ssh-keygen -t rsa  setup passwdless in remote servers the script set_pass.py is like below:
from fabric.api import * from fabric.contrib.files import * user = 'user' env.password = 'password' env.hosts=[] for ip in range(232, 240): env.hosts.append('%s@192.146.156.%d' % (user, ip)) def setpass(): local(&quot;rm -rf passwd_set/authorized_keys&quot;) home = os.getenv(&quot;HOME&quot;) with open(&quot;%s/.ssh/id_rsa.pub&quot; % home, &quot;r&quot;) as fr: key = fr.read() get(&quot;~/.ssh/*&quot;, &quot;passwd_set/.&quot;) local(&quot;touch passwd_set/authorized_keys&quot;) exists1 = False with open(&quot;passwd_set/authorized_keys&quot;, &quot;r&quot;) as fr: if key in fr.
              </article>
              <div class="read-more-link">
                  <a href="/python/fabric-set-ssh-passwdless/"><span class="read-more-slashes">//</span>Read More...</a>
              </div>
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>29</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/2/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/hugo/sublime_plugin_hugo/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/hugo_sublime_plugin/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/1/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/3/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/test/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/test2/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/test3/"></a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/categories/">Categories</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/hugo/">Hugos</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>11</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/post/">Posts</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/python/">Pythons</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2017</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
            <section  class="post">
                <header class="post-header">
                    
                    <h1 class="post-title">
                      <a href="/tags/">Tags</a>
                  </h1>
              </header>
              <p class="post-meta">
                  
                  <span class="post-date">
                    <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">0001</span>
                </span>
                
                
                    
                
                
                    <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>0 min. read</em></span>
                
                
            </p>
            
              
            
          </section>
          
        </div>

        <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2017. All rights reserved.</p>
</div>
        </div>
    </div>
    
</body>
</html>
