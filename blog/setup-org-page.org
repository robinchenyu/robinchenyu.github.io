#+TITLE:       setup org-page
#+AUTHOR:      ChenYu
#+EMAIL:       robin.chenyu@gmail.com
#+DATE:        2017-01-30 Mon
#+URI:         /blog/%y/%m/%d/setup-org-page
#+KEYWORDS:    emacs, org-page, github
#+TAGS:        emacs, org-page, github
#+LANGUAGE:    en
#+OPTIONS:     H:3 num:nil toc:nil \n:nil ::t |:t ^:nil -:nil f:t *:t <:t
#+DESCRIPTION: Setup org-page and publish to github page

** Install Org-Page
   First need to delete org package, or it would conflict with new versions,
then install *org-plus-contrib*. Could be install by elpa package.

** Setup init.el file
   #+BEGIN_SRC elisp
(require 'org-page)
(setq op/repository-directory "~/pp")
(setq op/site-domain "http://blog912.cn")
(setq op/personal-github-link "https://github.com/robinchenyu")
(setq op/site-main-title "The Blog")
(setq op/site-sub-title "Emacs, Programming")
;; (setq op/personal-disqus-shortname "theblog")
   #+END_SRC

** Create a new repository by op/new-repository
   Create a new reporsitory, then add github page rep to it.
   #+BEGIN_SRC
   M-x op/new-repository RET
   #+END_SRC
   #+BEGIN_SRC bash
   cd /path/to/rep
   git remote add origin git@github.com:robinchenyu/robinchenyu.github.io
   git checkout source
   git branch --set-upstream-to=origin/source source
   # then merge with github page files

   git checkout master
   git branch --set-upstream-to=origin/master master
   #+END_SRC

** Write a new post with op/new-post
   #+BEGIN_SRC
   M-x op/new-post RET
   #+END_SRC

** Publish the post with op/do-publication
   #+BEGIN_SRC
   M-x op/do-publication
   #+END_SRC

   some questions need to answer.
   1. Publish all org-files (y or n) y
   2. Publish to directory? (original repo if not) (y or n) n
   3. Auto-commit to repo? (y or n) y
   4. Auto-push to repo? (y or n) y

参考:
1. http://emacs-china.github.io/blog/2015/04/15/org-page%20%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8
